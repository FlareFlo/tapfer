<!DOCTYPE html>
<html>
<head>
	<title>{{filename}}</title>
	{% include "style.html" %}
	{% include "favicon.html" %}
	{% include "meta.html" %}
	<style>
		#delete_button {
			background: crimson;
		}
	</style>
</head>
<body>
<div class="container">
	<div class="form-box">
		<div class="file-info">
			<p><strong>Filename:</strong> {{filename}}</p>
			<p><strong>MIME Type:</strong> {{mimetype}}</p>
			<p id="expiry">><strong>Expires:</strong> {{expiry}}</p>
			<p><strong>Size:</strong> {{filesize}}</p>
			<script>
				const realtime = {{ unix_expiry}};
				const date = new Date(realtime * 1000);
                const pad = (n) => n.toString().padStart(2, '0');

                const hours = pad(date.getHours());
                const minutes = pad(date.getMinutes());
                const day = pad(date.getDate());
                const month = pad(date.getMonth() + 1); // Months are zero-based
                const year = date.getFullYear();

                const formatted = `${hours}:${minutes} ${day}-${month}-${year}`;

                document.getElementById('expiry').innerHTML = `<strong>Expires:</strong> ${formatted}`;
			</script>
		</div>
		<div style="display: flex; gap: 10px;">
			<form action="{{download_url}}" method="get">
				<button type="submit">Download</button>
			</form>
			<form action="{{delete_url}}" method="post">
				<button type="submit" id="delete_button">Delete</button>
			</form>
		</div>
		<img id="qrcode" src="data:image/png;base64, {{ qr_b64 }}" width="{{qr_size}}px", height="{{qr_size}}px" alt="">
	</div>
</div>
</body>
</html>
